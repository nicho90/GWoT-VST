<!DOCTYPE html>
<div class="card">
    <table class="table table-striped table-hover" style="margin-bottom: 0px;">
        <thead>
            <tr>
                <th>{{ 'ONLINE' | translate }}</th>
                <th>{{ 'DEVICE_ID' | translate }}</th>
                <th>{{ 'PRIVATE' | translate }} / {{ 'PUBLIC' | translate }}</th>
                <th>{{ 'DESCRIPTION' | translate }}</th>
                <th>{{ 'COORDINATES' | translate }}</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-if="!sensors">
                <td colspan="5">
                    <center><i class="fa fa-spinner fa-pulse"></i></center>
                </td>
            </tr>
            <tr ng-if="sensors.length == 0">
                <td colspan="5">
                    <center>- {{ 'NONE' | translate}} -</center>
                </td>
            </tr>
            <tr ng-if="sensors.length != 0" ng-repeat="sensor in sensors | orderBy: 'device_id' " ng-click="showDetails(sensor.sensor_id)" style="cursor:pointer">
                <td>
                    <span ng-if="sensor.online_status" class="text-success">
                        <i class="fa fa-circle" aria-hidden="true"></i>
                    </span>
                    <span ng-if="!sensor.online_status" class="text-danger">
                        <i class="fa fa-circle" aria-hidden="true"></i>
                    </span>
                </td>
                <td><kbd>{{sensor.device_id}}</kbd></td>
                <td>
                    <span ng-if="sensor.private" class="text-primary">
                        <i class="fa fa-lock" aria-hidden="true"></i>
                    </span>
                    <span ng-if="!sensor.private">
                        <i class="fa fa-unlock-alt" aria-hidden="true"></i>
                    </span>
                </td>
                <td>{{sensor.description}}</td>
                <td>
                    ({{sensor.lat}}, {{sensor.lng}})
                </td>
                <td class="right" >
                    <div class="btn-group" role="group" aria-label="Edit">
                        <button ng-click="edit(sensor.sensor_id); $event.stopPropagation();" class="btn btn-sm btn-secondary" ng-if="authenticated_user && (sensor.created_by == authenticated_user.username)">
                            <i class="fa fa-pencil"></i>
                        </button>
                        <button ng-click="delete(sensor); $event.stopPropagation();" class="btn btn-sm btn-danger" ng-if="authenticated_user && (sensor.created_by == authenticated_user.username)">
                            <i class="fa fa-trash"></i>
                        </button>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
