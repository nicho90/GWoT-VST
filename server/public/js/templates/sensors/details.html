<!DOCTYPE html>

<ul class="nav nav-tabs centered" style="position: relative; z-index:2;">
    <li class="nav-item">
        <a class="nav-link" ng-click="changeTab(1)" ng-class="{ active: tab==1 }" style="cursor:pointer"><i class="fa fa-info" aria-hidden="true"></i>&nbsp;&nbsp;{{ 'GENERAL' | translate }}</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" ng-click="changeTab(2)" ng-class="{ active: tab==2 }" style="cursor:pointer"><i class="fa fa-area-chart" aria-hidden="true"></i>&nbsp;&nbsp;{{ 'TIMESERIES' | translate }}</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" ng-click="changeTab(3)" ng-class="{ active: tab==3 }" style="cursor:pointer"><i class="fa fa-bolt" aria-hidden="true"></i>&nbsp;&nbsp;{{ 'REAL_TIME_DATA' | translate }}</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" ng-click="changeTab(4)" ng-class="{ active: tab==4 }" style="cursor:pointer"><i class="fa fa-rss" aria-hidden="true"></i>&nbsp;&nbsp;{{ 'SUBSCRIPTIONS' | translate }}</a>
    </li>
</ul>

<!-- Tabs -->
<div class="card" style="margin-top: -1px; position: relative; z-index:1; padding:20px;">

    <div ng-if="!sensor">
        <br>
        <br>
        <center><i class="fa fa-spinner fa-pulse"></i></center>
        <br>
        <br>
    </div>

    <!-- Header -->
    <div class="row">

        <!-- Sensor Description -->
        <div class="col-md-4">
            <div class="sensor-title" ng-if="sensor">
                <br>
                <h1 class="display-4 text-primary" style="font-size: 18pt;">
                    <i class="fa fa-cube"></i> {{sensor.description}}
                </h1>
            </div>
        </div>

        <!-- Forecast -->
        <div class="col-md-8" ng-if="sensor">

            <table class="forecast">
                <tr ng-if="!weather_forecast">
                    <td colspan="10">
                        <center><i class="fa fa-spinner fa-pulse"></i></center>
                    </td>
                </tr>
                <tr class="headline" ng-if="weather_forecast">
                    <th></th>
                    <th>{{ 'CURRENTLY' | translate }}</th>
                    <th></th>
                    <th>{{ 'TODAY' | translate }}</th>
                    <th>{{ 'TOMORROW' | translate }}</th>
                    <th>{{ weather_forecast.daily.data[2].time | unixtime | translate }}</th>
                    <th>{{ weather_forecast.daily.data[3].time | unixtime | translate}}</th>
                    <th>{{ weather_forecast.daily.data[4].time | unixtime | translate}}</th>
                    <th>{{ weather_forecast.daily.data[5].time | unixtime | translate}}</th>
                    <th>{{ weather_forecast.daily.data[6].time | unixtime | translate}}</th>
                </tr>
                <tr class="weatherIcon" ng-if="weather_forecast">
                    <th></th>
                    <td><i class="wi wi-forecast-io-{{weather_forecast.currently.icon}}"></i></td>
                    <th></th>
                    <td><i class="wi wi-forecast-io-{{weather_forecast.daily.data[0].icon}}"></i></td>
                    <td><i class="wi wi-forecast-io-{{weather_forecast.daily.data[1].icon}}"></i></td>
                    <td><i class="wi wi-forecast-io-{{weather_forecast.daily.data[2].icon}}"></i></td>
                    <td><i class="wi wi-forecast-io-{{weather_forecast.daily.data[3].icon}}"></i></td>
                    <td><i class="wi wi-forecast-io-{{weather_forecast.daily.data[4].icon}}"></i></td>
                    <td><i class="wi wi-forecast-io-{{weather_forecast.daily.data[5].icon}}"></i></td>
                    <td><i class="wi wi-forecast-io-{{weather_forecast.daily.data[6].icon}}"></i></td>
                </tr>
                <tr class="normal" ng-if="weather_forecast">
                    <th rowspan="2"><i class="wi wi-thermometer"></i></th>
                    <td rowspan="2"><b>{{weather_forecast.currently.temperature}}°C</b></td>
                    <th><i class="wi wi-thermometer"></i></th>
                    <td>{{ weather_forecast.daily.data[0].temperatureMax}}°C</td>
                    <td>{{ weather_forecast.daily.data[1].temperatureMax}}°C</td>
                    <td>{{ weather_forecast.daily.data[2].temperatureMax}}°C</td>
                    <td>{{ weather_forecast.daily.data[3].temperatureMax}}°C</td>
                    <td>{{ weather_forecast.daily.data[4].temperatureMax}}°C</td>
                    <td>{{ weather_forecast.daily.data[5].temperatureMax}}°C</td>
                    <td>{{ weather_forecast.daily.data[6].temperatureMax}}°C</td>
                </tr>
                <tr class="normal" ng-if="weather_forecast">
                    <th><i class="wi wi-thermometer-exterior"></i></th>
                    <td>{{ weather_forecast.daily.data[0].temperatureMin}}°C</td>
                    <td>{{ weather_forecast.daily.data[1].temperatureMin}}°C</td>
                    <td>{{ weather_forecast.daily.data[2].temperatureMin}}°C</td>
                    <td>{{ weather_forecast.daily.data[3].temperatureMin}}°C</td>
                    <td>{{ weather_forecast.daily.data[4].temperatureMin}}°C</td>
                    <td>{{ weather_forecast.daily.data[5].temperatureMin}}°C</td>
                    <td>{{ weather_forecast.daily.data[6].temperatureMin}}°C</td>
                </tr>
                <tr class="normal" ng-if="weather_forecast">
                    <th><i class="wi wi-humidity"></i></th>
                    <td><b>{{weather_forecast.currently.humidity | humidity}}%</b></td>
                    <th><i class="wi wi-humidity"></i></th>
                    <td>{{weather_forecast.daily.data[0].humidity | humidity}}%</td>
                    <td>{{weather_forecast.daily.data[1].humidity | humidity}}%</td>
                    <td>{{weather_forecast.daily.data[2].humidity | humidity}}%</td>
                    <td>{{weather_forecast.daily.data[3].humidity | humidity}}%</td>
                    <td>{{weather_forecast.daily.data[4].humidity | humidity}}%</td>
                    <td>{{weather_forecast.daily.data[5].humidity | humidity}}%</td>
                    <td>{{weather_forecast.daily.data[6].humidity | humidity}}%</td>
                </tr>
            </table>
        </div>
    </div>
    <br>


    <!-- 1st Tab -->
    <div ng-if="tab==1 && sensor">
        <div class="row">
            <div class="col-md-6">
                <div class="card" style="margin-bottom: 0px;">
                    <h3 class="card-header">{{ 'DETAILS' | translate }}</h3>
                    <div style="padding-left: 15px; padding-right: 15px; padding-bottom: 10px;" id="details">
                        <table class="table-sm" style="margin-bottom: 0px;">
                            <tbody>
                                <tr>
                                    <th>{{ 'ONLINE' | translate }}</th>
                                    <td>
                                        <span ng-if="!sensor.private">
                                            <span class="label label-pill label-success">
                                                {{ 'ONLINE_' | translate }}
                                            </span>
                                        </span>
                                        <span ng-if="sensor.private">
                                            <span class="label label-pill label-danger">
                                                {{ 'OFFLINE_' | translate }}
                                            </span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{ 'DEVICE_ID' | translate }}</th>
                                    <td>
                                        <kbd>{{sensor.device_id}}</kbd>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{ 'PRIVATE' | translate }} / {{ 'PUBLIC' | translate }}</th>
                                    <td>
                                        <span ng-if="sensor.private" class="text-primary">
                                            <i class="fa fa-lock" aria-hidden="true"></i>
                                        </span>
                                        <span ng-if="!sensor.private">
                                            <i class="fa fa-unlock-alt" aria-hidden="true"></i>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{ 'COORDINATES' | translate }}</th>
                                    <td>{{sensor.lng}} <small>{{ 'LONGITUDE' | translate }}</small></td>
                                </tr>
                                <tr>
                                    <th></th>
                                    <td>{{sensor.lat}} <small>{{ 'LATITUDE' | translate }}</small></td>
                                </tr>
                                <tr>
                                    <th>{{ 'SENSOR_HEIGHT' | translate }}</th>
                                    <td>{{sensor.sensor_height}}
                                        <small>{{ sensor.sensor_height_unit | translate }}</small>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{ 'CROSSING_HEIGHT' | translate }}</th>
                                    <td>{{sensor.crossing_height}}
                                        <small>{{ sensor.crossing_height_unit | translate }}</small>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{ 'MEASURE_FREQUENCY' | translate }}
                                        <small>({{ 'DEFAULT' | translate }})</small>
                                    </th>
                                    <td>{{sensor.default_frequency}}
                                        <small>{{ sensor.default_frequency_unit | translate }}</small>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{ 'MEASURE_FREQUENCY' | translate }}
                                        <small>({{ 'DANGER' | translate }})</small>
                                    </th>
                                    <td>{{sensor.danger_frequency}}
                                        <small>{{ sensor.danger_frequency_unit | translate }}</small>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{ 'THRESHOLD' | translate }}</th>
                                    <td>{{sensor.threshold_value}}
                                        <small>{{ sensor.threshold_value_unit | translate }}</small>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{ 'INCREASED_FREQUENCY' | translate }}</th>
                                    <td>
                                        <span ng-if="sensor.increased_frequency" class="text-warning">
                                            <i class="fa fa-bell" aria-hidden="true"></i>
                                        </span>
                                        <span ng-if="!sensor.increased_frequency">
                                            <i class="fa fa-bell-slash" aria-hidden="true"></i>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{ 'CREATED' | translate }}</th>
                                    <td>{{ sensor.created | time }}</td>
                                </tr>
                                <tr>
                                    <th>{{ 'UPDATED' | translate }}</th>
                                    <td>{{ sensor.updated | time }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card" style="margin-bottom: 0px;">
                    <h3 class="card-header">{{ 'MAP' | translate }}</h3>
                    <leaflet id="map_2" markers="markers" center="center" layers="layers" paths="paths" event-broadcast="events"></leaflet>
                </div>
            </div>
        </div>
        <br>

        <div class="row">
            <div class="col-md-12">
                <div class="card" style="margin-bottom: 0px;">
                    <h3 class="card-header">{{ 'NEARBY_SENSORS' | translate }}</h3>
                    <table class="table table-striped table-hover" style="margin-bottom: 0px;">
                        <thead>
                            <tr>
                                <th>{{ 'DISTANCE' | translate }}</th>
                                <th>{{ 'ONLINE' | translate }}</th>
                                <th>{{ 'DEVICE_ID' | translate }}</th>
                                <th>{{ 'DESCRIPTION' | translate }}</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-if="!sensor.related_sensors">
                                <td colspan="6">
                                    <center><i class="fa fa-spinner fa-pulse"></i></center>
                                </td>
                            </tr>
                            <tr ng-if="sensor.related_sensors.length == 0">
                                <td colspan="6">
                                    <center>- {{ 'NONE' | translate}} -</center>
                                </td>
                            </tr>
                            <tr ng-if="sensor.related_sensors.length != 0" ng-repeat="related_sensor in sensor.related_sensors | orderBy: 'distance' " ng-click="showDetails(related_sensor.sensor_id)" style="cursor:pointer">
                                <td>
                                    <h5>
                                        <span class="label label-primary">
                                            {{(related_sensor.distance).toFixed(0) | distance }}
                                        </span>
                                    </h5>
                                </td>
                                <td>
                                    <span ng-if="related_sensor.online_status" class="text-success">
                                        <i class="fa fa-circle" aria-hidden="true"></i>
                                    </span>
                                    <span ng-if="!related_sensor.online_status" class="text-danger">
                                        <i class="fa fa-circle" aria-hidden="true"></i>
                                    </span>
                                </td>
                                <td><kbd>{{related_sensor.device_id}}</kbd></td>
                                <td>{{related_sensor.description}}</td>
                                <td class="right">
                                    <div class="btn-group" role="group" aria-label="Edit">
                                        <button ng-click="showOnMap(related_sensor.sensor_id); $event.stopPropagation();" class="btn btn-sm btn-secondary">
                                            <i class="fa fa-map"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <br>

        <div class="row">
            <div class="col-md-6">

                <!-- Emergency Station -->
                <div class="card" style="margin-bottom: 0px;">
                    <h3 class="card-header">{{ 'NEARBY_EMERGENCY_STATIONS' | translate }}</h3>
                    <ul class="list-group list-group-flush" style="margin-top: -10px;">
                        <li class="list-group-item" ng-repeat="emergency_station in sensor.emergency_stations">
                            <div class="row">
                                <div class="col-xs-2">
                                    <h5>
                                        <span class="label label-primary">
                                            {{(emergency_station.distance).toFixed(0) | distance }}
                                        </span>
                                    </h5>
                                </div>
                                <div class="col-xs-10">
                                    <h5>{{emergency_station.name}}</h5>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-2"></div>
                                <div class="col-xs-5">
                                    {{emergency_station.street}} {{emergency_station.house_number}} <span ng-if="emergency_station.addition != '' ">({{emergency_station.addition}})</span>
                                    <br> {{emergency_station.zip_code}}, {{emergency_station.city}},
                                    <br> {{emergency_station.country | translate }}
                                    <br>
                                </div>
                                <div class="col-xs-5">
                                    {{emergency_station.phone_number}}
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-md-6">

                <!-- Service Station -->
                <div class="card" style="margin-bottom: 0px;">
                    <h3 class="card-header">{{ 'NEARBY_SERVICE_STATIONS' | translate }}</h3>
                    <ul class="list-group list-group-flush" style="margin-top: -10px;">
                        <li class="list-group-item" ng-repeat="service_station in sensor.service_stations">
                            <div class="row">
                                <div class="col-xs-2">
                                    <h5>
                                        <span class="label label-info">
                                            {{(service_station.distance).toFixed(0) | distance }}
                                        </span>
                                    </h5>
                                </div>
                                <div class="col-xs-10">
                                    <h5>{{service_station.name}}</h5>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-2"></div>
                                <div class="col-xs-5">
                                    {{service_station.street}} {{service_station.house_number}} <span ng-if="service_station.addition != '' ">({{service_station.addition}})</span>
                                    <br> {{service_station.zip_code}}, {{service_station.city}},
                                    <br> {{service_station.country | translate }}
                                    <br>
                                </div>
                                <div class="col-xs-5">
                                    {{service_station.phone_number}}
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- 2nd Tab -->
    <div class="row" ng-if="tab==2">
        <div class="col-md-12">
            <div class="card">

                <!-- Linechart -->
                <div class="linechart" ng-if="data.dataset.length > 0">
                    <linechart data="data" options="options" mode="" height="390px"></linechart>
                </div>
                <div class="linechart" ng-if="data.dataset.length == 0">
                    <div style="height: 390px; line-height:390px; text-align: center;">
                        - {{ 'NO' | translate}} {{ 'MEASUREMENTS' | translate}} {{ 'FOUND' | translate}}-
                    </div>
                </div>

                <br>
                <br>
                <div class="row">
                    <div class="col-md-5">
                        <div class="middle">
                            <div class="btn-group" role="group">
                                <button type="button" class="btn " ng-class="{ 'btn-primary': timeoption == 'hours', 'btn-primary-outline': timeoption != 'hours' }" ng-click="changeOption('hours')">
                                    {{ 'HOURS' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': timeoption == 'days', 'btn-primary-outline': timeoption != 'days' }" ng-click="changeOption('days')">
                                    {{ 'DAYS' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': timeoption == 'weeks', 'btn-primary-outline': timeoption != 'weeks' }" ng-click="changeOption('weeks')">
                                    {{ 'WEEKS' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': timeoption == 'months', 'btn-primary-outline': timeoption != 'months' }" ng-click="changeOption('months')">
                                    {{ 'MONTHS' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': timeoption == 'years', 'btn-primary-outline': timeoption != 'years' }" ng-click="changeOption('years')">
                                    {{ 'YEARS' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': timeoption == 'all', 'btn-primary-outline': timeoption != 'all' }" ng-click="changeOption('all')">
                                    {{ 'ALL' | translate }}
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-7">
                        <div class="left">

                            <!-- Minutes & Hours -->
                            <div class="btn-group" role="group" ng-if="query.time=='minutes' || query.time=='hours'">
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='minutes' && query.value == 30), 'btn-primary-outline': (query.time!='minutes' && query.value != 30) }" ng-click="changeQuery('minutes', 30)">
                                    30 {{ 'MINUTES' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='hours' && query.value == 1), 'btn-primary-outline': ((query.time!='minutes' || query.time!='hours') && query.value != 1) }" ng-click="changeQuery('hours', 1)">
                                    1 {{ 'HOUR' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='hours' && query.value == 3), 'btn-primary-outline': ((query.time!='minutes' || query.time!='hours') && query.value != 3) }" ng-click="changeQuery('hours', 3)">
                                    3 {{ 'HOURS' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='hours' && query.value == 6), 'btn-primary-outline': ((query.time!='minutes' || query.time!='hours') && query.value != 6) }" ng-click="changeQuery('hours', 6)">
                                    6 {{ 'HOURS' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='hours' && query.value == 12), 'btn-primary-outline': ((query.time!='minutes' || query.time!='hours') && query.value != 12) }" ng-click="changeQuery('hours', 12)">
                                    12 {{ 'HOURS' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='hours' && query.value == 24), 'btn-primary-outline': ((query.time!='minutes' || query.time!='hours') && query.value != 24) }" ng-click="changeQuery('hours', 24)">
                                    24 {{ 'HOURS' | translate }}
                                </button>
                            </div>

                            <!-- Days -->
                            <div class="btn-group" role="group" ng-if="query.time=='days'">
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='days' && query.value == 1), 'btn-primary-outline': (query.time=='days' && query.value != 1) }" ng-click="changeQuery('days', 1)">
                                    1 {{ 'DAY' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='days' && query.value == 3), 'btn-primary-outline': (query.time=='days' && query.value != 3) }" ng-click="changeQuery('days', 3)">
                                    3 {{ 'DAYS' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='days' && query.value == 5), 'btn-primary-outline': (query.time=='days' && query.value != 5) }" ng-click="changeQuery('days', 5)">
                                    5 {{ 'DAYS' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='days' && query.value == 7), 'btn-primary-outline': (query.time=='days' && query.value != 7) }" ng-click="changeQuery('days', 7)">
                                    7 {{ 'DAYS' | translate }}
                                </button>
                            </div>

                            <!-- Weeks -->
                            <div class="btn-group" role="group" ng-if="query.time=='weeks'">
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='weeks' && query.value == 1), 'btn-primary-outline': (query.time=='weeks' && query.value != 1) }" ng-click="changeQuery('weeks', 1)">
                                    1 {{ 'WEEK' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='weeks' && query.value == 2), 'btn-primary-outline': (query.time=='weeks' && query.value != 2) }" ng-click="changeQuery('weeks', 2)">
                                    2 {{ 'WEEKS' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='weeks' && query.value == 3), 'btn-primary-outline': (query.time=='weeks' && query.value != 3) }" ng-click="changeQuery('weeks', 3)">
                                    3 {{ 'WEEKS' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='weeks' && query.value == 4), 'btn-primary-outline': (query.time=='weeks' && query.value != 4) }" ng-click="changeQuery('weeks', 4)">
                                    4 {{ 'WEEKS' | translate }}
                                </button>
                            </div>

                            <!-- Months -->
                            <div class="btn-group" role="group" ng-if="query.time=='months'">
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='months' && query.value == 1), 'btn-primary-outline': (query.time=='months' && query.value != 1) }" ng-click="changeQuery('months', 1)">
                                    1 {{ 'MONTH' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='months' && query.value == 3), 'btn-primary-outline': (query.time=='months' && query.value != 3) }" ng-click="changeQuery('months', 3)">
                                    3 {{ 'MONTHS' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='months' && query.value == 6), 'btn-primary-outline': (query.time=='months' && query.value != 6) }" ng-click="changeQuery('months', 6)">
                                    6 {{ 'MONTHS' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='months' && query.value == 12), 'btn-primary-outline': (query.time=='months' && query.value != 12) }" ng-click="changeQuery('months', 12)">
                                    12 {{ 'MONTHS' | translate }}
                                </button>
                            </div>

                            <!-- Years -->
                            <div class="btn-group" role="group" ng-if="query.time=='years'">
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='years' && query.value == 1), 'btn-primary-outline': (query.time=='years' && query.value != 1) }" ng-click="changeQuery('years', 1)">
                                    1 {{ 'YEAR' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='years' && query.value == 5), 'btn-primary-outline': (query.time=='years' && query.value != 5) }" ng-click="changeQuery('years', 5)">
                                    5 {{ 'YEARS' | translate }}
                                </button>
                                <button type="button" class="btn" ng-class="{ 'btn-primary': (query.time=='years' && query.value == 10), 'btn-primary-outline': (query.time=='years' && query.value != 10) }" ng-click="changeQuery('years', 10)">
                                    10 {{ 'YEARS' | translate }}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <br>
            </div>
        </div>
    </div>

    <!-- 3rd Tab -->
    <div class="row" ng-if="tab==3">
        <div class="col-md-6">
            <div class="card">
                TAB 3
            </div>
        </div>
        <div class="col-md-6"></div>
    </div>

    <!-- 4th Tab -->
    <div class="row" ng-if="tab==4">
        <div class="col-md-6">
            <div class="card">
                TAB 4
            </div>
        </div>
        <div class="col-md-6"></div>
    </div>

</div>

<!-- MAP-RESIZER -->
<script>
    $('#map_2').height( $('#details').height()-174 );
</script>
